---
import Hero from '../components/home/Hero.astro';
import ArticleList from '../components/ArticleList.astro';
import NewsLetter from '../components/NewsLetter.astro';
import DefaultLayout from './DefaultLayout.astro';
import type { BlogInfo } from '../interfaces/blog-info';
import type Category from '../interfaces/category';
import type StrapiNavigation from '../interfaces/navigation';
import type Article from '../interfaces/article';
import type Meta from '../interfaces/meta';
import type { Tag } from '../interfaces/tag';

type Props = {
  blogInfo: BlogInfo;
  headerNavigation: StrapiNavigation<Category>[];
  articleResponse: {
    data: Article[];
    meta: Meta;
  };
  categories: Category[];
  tags: Tag[];
};

const { blogInfo, headerNavigation, articleResponse, categories, tags } = Astro.props;
---

<DefaultLayout blogInfo={blogInfo} headerNavigation={headerNavigation}>
  <Hero />
  <ArticleList
    curPath="/"
    curPage={articleResponse.meta.pagination.page}
    totalPages={articleResponse.meta.pagination.pageCount}
    categories={categories}
    tags={tags}
    articles={articleResponse?.data}
    brand={blogInfo.data.attributes.brand.data}
    socials={blogInfo.data.attributes.socials}
    description={blogInfo.data.attributes.summary}
  />
  <NewsLetter />
</DefaultLayout>
