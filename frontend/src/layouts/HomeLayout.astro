---
import Hero from '../components/home/Hero.astro';
import ArticleList from '../components/ArticleList.astro';
import DefaultLayout from './DefaultLayout.astro';
import type { BlogInfo } from '../interfaces/blog-info';
import type Category from '../interfaces/category';
import type StrapiNavigation from '../interfaces/navigation';
import type Article from '../interfaces/article';
import type Meta from '../interfaces/meta';
import type { Tag } from '../interfaces/tag';
import ArticlesMosaic from '../components/ArticlesMosaic.astro';
import type { CategoryPlain } from '../interfaces/category';
import CategoriesList from '../components/CategoriesList.astro';
import Popular from '../components/home/Popular.astro';
import CategorySection from '../components/home/CategorySection.astro';
type Props = {
  blogInfo: BlogInfo;
  headerNavigation: StrapiNavigation<CategoryPlain>[];
  footerNavigation: StrapiNavigation<CategoryPlain>[];
  articleResponse: {
    data: Article[];
    meta: Meta;
  };
  categories: Category[];
  tags: Tag[];
  articles: Article[];
};

const {
  blogInfo,
  headerNavigation,
  articleResponse,
  categories,
  tags,
  articles,
  footerNavigation,
} = Astro.props;
---

<DefaultLayout
  blogInfo={blogInfo}
  headerNavigation={headerNavigation}
  footerNavigation={footerNavigation}
>
  <Hero />
  <ArticlesMosaic articles={articles} />
  <CategoriesList categories={categories} />
  <Popular articles={[articles[0], articles[1]]} />
  <CategorySection articles={articles} category={categories[0]} />

  <ArticleList
    curPath="/"
    curPage={articleResponse.meta.pagination.page}
    totalPages={articleResponse.meta.pagination.pageCount}
    categories={categories}
    tags={tags}
    articles={articleResponse?.data}
    brand={blogInfo.data.attributes.brand.data}
    socials={blogInfo.data.attributes.socials}
    description={blogInfo.data.attributes.summary}
  />
</DefaultLayout>
